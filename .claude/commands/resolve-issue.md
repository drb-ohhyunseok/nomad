---
name: resolve-issue
description: 깃허브 이슈 번호를 입력받아 이슈를 가져오고 해결을 위한 상세한 계획을 수립합니다
category: automation
---

# 깃허브 이슈 해결 플래너

깃허브 이슈를 자동으로 가져와 분석하고, 체계적인 해결 계획을 수립합니다.

## 📋 이슈 번호
```
$ARGUMENT
```

## 🎯 실행 프로세스

### 1단계: 이슈 가져오기 및 검증

**gh CLI 명령어 실행:**
```bash
gh issue view $ARGUMENT --json number,title,body,labels,state,assignees,milestone,createdAt,updatedAt
```

**검증 사항:**
- 이슈 번호가 유효한지 확인
- 이슈가 존재하는지 확인
- 이슈 상태 확인 (open/closed)
- gh CLI 인증 상태 확인

**오류 처리:**
- 이슈 번호가 없거나 잘못된 경우: 사용자에게 올바른 번호 요청
- gh CLI가 설치되지 않은 경우: 설치 안내
- 인증 오류: `gh auth login` 안내
- 이슈가 이미 닫힌 경우: 사용자에게 확인 요청

### 2단계: 이슈 분석

가져온 이슈를 다음 관점에서 분석합니다:

#### 📊 기본 정보 파싱
- **이슈 번호**: #$ARGUMENT
- **제목**: [이슈 제목]
- **상태**: [open/closed]
- **라벨**: [라벨 목록]
- **담당자**: [assignees]
- **마일스톤**: [milestone]
- **생성일**: [날짜]

#### 🔍 이슈 타입 분류
라벨과 제목, 본문을 분석하여 이슈 타입을 결정:
- 🐛 **Bug**: 버그 수정, 오류 해결
- ✨ **Feature**: 새 기능 구현
- 📚 **Documentation**: 문서 작업
- 🔧 **Refactor**: 리팩토링
- 🎨 **Design**: UI/UX 개선
- ⚡ **Performance**: 성능 최적화
- 🧪 **Test**: 테스트 추가

#### 📈 복잡도 평가
- **Simple** (1-3/10): 단순 수정, 1-2시간
- **Moderate** (4-6/10): 일반적 작업, 3-8시간
- **Complex** (7-9/10): 복잡한 구현, 1-3일
- **Epic** (10/10): 대규모 작업, 1주 이상

평가 기준:
- 영향 범위 (파일 수, 컴포넌트 수)
- 기술적 난이도
- 의존성 복잡도
- 테스트 요구사항

#### 🎯 핵심 요구사항 추출
이슈 본문에서:
- 해결해야 할 핵심 문제
- 예상 동작 (Expected Behavior)
- 완료 기준 (Acceptance Criteria)
- 제약사항 및 고려사항

### 3단계: 프로젝트 컨텍스트 분석

이슈 해결에 필요한 프로젝트 정보를 수집합니다:

#### 📂 코드베이스 분석
```bash
# 관련 파일 검색
- 이슈에서 언급된 파일 확인
- 관련 컴포넌트/모듈 탐색
- 테스트 파일 확인
```

#### 🔗 의존성 확인
- package.json에서 관련 라이브러리 확인
- 현재 사용 중인 기술 스택 파악
- 버전 호환성 검토

#### 📋 프로젝트 문서 참조
- SPEC.md 확인
- README.md 검토
- 기존 유사 이슈 검색

### 4단계: 해결 전략 수립

이슈 타입과 복잡도에 따라 적절한 해결 전략을 선택합니다:

#### 🐛 Bug Fix Strategy
```yaml
strategy: Root Cause Analysis → Fix → Test → Verify

phases:
  investigation:
    - 버그 재현
    - 로그 및 에러 메시지 분석
    - 근본 원인 파악

  implementation:
    - 최소 변경으로 수정
    - 사이드 이펙트 최소화
    - 관련 코드 리뷰

  validation:
    - 재현 단계 테스트
    - 회귀 테스트 실행
    - 엣지 케이스 검증
```

#### ✨ Feature Implementation Strategy
```yaml
strategy: Design → Implement → Test → Document

phases:
  design:
    - UI/UX 설계 (해당 시)
    - 데이터 모델 정의
    - API 설계
    - 컴포넌트 구조 계획

  implementation:
    - 기본 구조 구현
    - 핵심 기능 개발
    - UI 컴포넌트 작성
    - 통합 및 연동

  testing:
    - 단위 테스트 작성
    - 통합 테스트
    - E2E 테스트 (필요 시)

  documentation:
    - 코드 주석
    - README 업데이트
    - 사용 가이드 작성
```

#### 🔧 Refactor Strategy
```yaml
strategy: Analyze → Plan → Refactor → Validate

phases:
  analysis:
    - 현재 코드 구조 파악
    - 개선 포인트 식별
    - 리팩토링 범위 결정

  planning:
    - 리팩토링 단계 정의
    - 위험 요소 파악
    - 롤백 계획 수립

  execution:
    - 점진적 리팩토링
    - 각 단계별 테스트
    - 코드 리뷰

  validation:
    - 모든 테스트 통과 확인
    - 성능 저하 없음 검증
    - 문서 업데이트
```

### 5단계: 상세 실행 계획 생성

feature-breakdown 스타일로 계층적 작업 계획을 수립합니다:

#### 📋 계획 구조
```markdown
## 🎯 이슈 해결 계획: #{이슈번호} - {제목}

### 📊 이슈 요약
- **타입**: [이슈 타입]
- **복잡도**: [점수/10]
- **예상 시간**: [시간]
- **우선순위**: [Priority]
- **전략**: [선택된 전략]

### 🔍 분석 결과
- **핵심 문제**: [문제 설명]
- **영향 범위**: [파일/컴포넌트 목록]
- **기술적 고려사항**: [기술 스택, 제약사항]
- **완료 기준**: [Acceptance Criteria]

### 🏗️ 실행 계획

#### 🎯 Phase 1: [Phase 이름]
**기간**: [예상 시간] | **위험도**: [Low/Med/High] | **의존성**: [없음/Phase ID]

##### 📦 Task 1.1: [작업명]
- **복잡도**: [1-10]/10
- **시간**: [예상 시간]
- **의존성**: [없음/Task IDs]
- **병렬화 가능**: [⚡ Yes / ⏩ No]
- **관련 파일**: [파일 경로]

**Todos:**
- [ ] Todo 1.1.1: [구체적 행동] - [완료 기준]
- [ ] Todo 1.1.2: [구체적 행동] - [완료 기준]

##### 📦 Task 1.2: [작업명]
...

#### 🎯 Phase 2: [Phase 이름]
...

### 🔗 의존성 그래프
[의존성 시각화]

### ⚡ 병렬화 기회
- [병렬 실행 가능한 작업 그룹]
- [예상 시간 절약]

### ⚠️ 위험 요소 및 완화 전략
- **위험 1**: [설명]
  - **영향도**: [High/Med/Low]
  - **완화책**: [대응 방안]

### ✅ 검증 계획
- [ ] [검증 항목 1]
- [ ] [검증 항목 2]
- [ ] 모든 테스트 통과
- [ ] 코드 리뷰 완료
- [ ] 문서 업데이트

### 📝 커밋 전략
- 커밋 메시지 형식: `타입(scope): 설명 (#이슈번호)`
- 예시: `fix(auth): 세션 만료 오류 수정 (#123)`

### 🚀 배포 고려사항
[배포 시 주의사항, 롤백 계획 등]
```

### 6단계: 사용자 승인 프로세스

계획을 제시하고 사용자 피드백을 받습니다:

#### 📋 제시 항목
1. **이슈 요약**: 이해한 내용이 맞는지 확인
2. **실행 계획**: Phase별 작업 계획 검토
3. **예상 시간**: 시간 추정이 합리적인지 확인
4. **위험 요소**: 추가 고려사항 확인

#### ❓ 사용자 질문
```markdown
## 🤔 확인 필요 사항

다음 사항을 검토해주세요:

1. **이슈 이해도**
   - 위에 정리한 핵심 문제와 요구사항이 정확한가요?
   - 누락되거나 잘못 이해한 부분이 있나요?

2. **실행 계획**
   - 제안된 Phase와 Task가 적절한가요?
   - 추가하거나 제거할 작업이 있나요?
   - 우선순위 조정이 필요한가요?

3. **제약사항**
   - 고려해야 할 추가 제약사항이 있나요?
   - 특정 방식이나 라이브러리를 사용해야 하나요?

4. **다음 단계**
   - [ ] 계획 승인 → TodoWrite 생성 후 바로 시작
   - [ ] 계획 수정 → 수정 사항 알려주시면 반영하겠습니다
   - [ ] 추가 분석 필요 → 더 조사할 영역을 알려주세요
```

### 7단계: 실행 준비

사용자 승인 후 실행을 준비합니다:

#### 📝 TodoWrite 생성
```markdown
승인해주시면 다음과 같이 진행하겠습니다:

1. **TodoWrite 항목 생성**
   - Phase 1의 모든 Task를 TodoWrite에 추가
   - 각 Task를 개별 todo 항목으로 분리

2. **브랜치 생성** (권장)
   ```bash
   git checkout -b issue-{번호}-{간단한-설명}
   ```

3. **첫 번째 Task 시작**
   - Task 1.1부터 순차적으로 진행
   - 각 완료 시 todo 체크 및 커밋

4. **진행 상황 추적**
   - 정기적으로 이슈에 업데이트 코멘트
   - 문제 발생 시 즉시 공유
```

## 🔍 고급 기능

### 🤖 자동 파일 탐색
이슈에서 언급된 파일이나 관련 컴포넌트를 자동으로 찾아 분석:
```bash
# 언급된 파일 검색
- 이슈 본문에서 파일명 추출
- Glob/Grep으로 관련 파일 찾기
- Read로 해당 파일 분석
```

### 📊 유사 이슈 검색
과거에 해결한 유사한 이슈가 있는지 검색:
```bash
gh issue list --state closed --search "키워드" --json number,title,closedAt
```

### 🔗 관련 PR 확인
이슈와 연결된 PR이 있는지 확인:
```bash
gh pr list --search "이슈번호" --json number,title,state
```

### 📈 진행 상황 자동 업데이트
작업 진행 중 이슈에 자동으로 코멘트:
```bash
gh issue comment {번호} --body "작업 진행 상황..."
```

## 💡 사용 예시

### 기본 사용
```bash
/resolve-issue 42
```

### 출력 예시
```markdown
# 🎯 이슈 해결 계획: #42 - 도시 상세페이지 구현

## 📊 이슈 요약
- **타입**: ✨ Feature
- **복잡도**: 7/10 (Complex)
- **예상 시간**: 12-16시간 (2-3일)
- **우선순위**: High
- **전략**: Design → Implement → Test → Document
- **라벨**: enhancement, frontend
- **담당자**: @username

## 🔍 분석 결과

### 핵심 요구사항
1. 도시 카드 클릭 시 상세페이지로 이동
2. 동적 라우팅 구현 (/cities/[slug])
3. 상세 정보 표시: 필터, 통계, 리뷰, 밋업
4. 좋아요/싫어요 기능 연동
5. 반응형 UI

### 영향 범위
- `app/cities/[slug]/page.tsx` (신규)
- `components/cards/CityCard.tsx` (수정)
- `components/city/*` (신규 컴포넌트들)

### 기술적 고려사항
- Next.js 14 App Router 동적 라우팅
- TypeScript 타입 안정성
- 로컬 mockData 활용
- Tailwind CSS 반응형 디자인

## 🏗️ 실행 계획

[상세 Phase/Task/Todo 구조...]

## 🤔 확인 필요 사항
[사용자 확인 질문들...]
```

## ⚙️ 옵션

### --auto-start
계획 수립 후 자동으로 실행 시작 (승인 단계 스킵)
```bash
/resolve-issue 42 --auto-start
```

### --branch
자동으로 새 브랜치 생성
```bash
/resolve-issue 42 --branch
```

### --update
작업 완료 후 이슈에 자동으로 진행 상황 업데이트
```bash
/resolve-issue 42 --update
```

### --close-on-complete
모든 작업 완료 시 자동으로 이슈 닫기
```bash
/resolve-issue 42 --close-on-complete
```

## 🔒 안전 장치

### 사전 검증
- [ ] 현재 브랜치 상태 확인 (uncommitted changes)
- [ ] 이슈 상태 확인 (이미 닫힌 이슈는 경고)
- [ ] gh CLI 인증 확인

### 작업 중 보호
- 위험도 High 작업 전 추가 확인
- 큰 변경사항은 단계별 커밋 권장
- 테스트 실패 시 진행 중단

### 롤백 계획
- 각 Phase 완료 후 커밋 생성
- 문제 발생 시 이전 Phase로 되돌리기 가능
- 브랜치 작업 권장

## 📋 실행 지침

1. **이슈 가져오기**: gh CLI로 이슈 #$ARGUMENT 조회
2. **에러 처리**: 이슈가 없거나 접근 불가 시 명확한 에러 메시지
3. **컨텍스트 수집**: 프로젝트 파일들을 읽어 현재 상태 파악
4. **전략 선택**: 이슈 타입과 복잡도에 따라 적절한 전략 선택
5. **계획 수립**: 상세한 Phase/Task/Todo 구조로 계획 작성
6. **사용자 확인**: 계획 제시 및 피드백 대기
7. **실행 준비**: 승인 시 TodoWrite 생성 및 첫 작업 시작

## 🎓 학습 모드

처음 보는 기술이나 복잡한 이슈의 경우:
- 단계별 설명 추가
- 참고 문서 링크 제공
- 예제 코드 스니펫 포함
- 일반적인 함정 경고

이제 이슈 #{$ARGUMENT}를 가져와 해결 계획을 수립하겠습니다.
